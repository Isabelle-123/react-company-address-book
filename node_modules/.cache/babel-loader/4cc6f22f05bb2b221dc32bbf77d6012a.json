{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/isabellecaspersson/kod/react-address-book/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport Table from './components/Table';\nimport AddCompanyForm from './components/forms/AddCompanyForm';\nimport EditCompanyForm from './components/forms/EditCompanyForm';\nimport { v4 as uuidv4 } from 'uuid';\nimport axios from 'axios';\n\nconst App = () => {\n  _s();\n\n  const companyData = [{\n    id: 1,\n    name: 'Tromb1',\n    street: 'Parkv 15',\n    postaddress: '12345 Stockholm'\n  }, {\n    id: 2,\n    name: 'Tromb1',\n    street: 'Parkv 15',\n    postaddress: '12345 Stockholm'\n  }, {\n    id: 3,\n    name: 'Tromb1',\n    street: 'Parkv 15',\n    postaddress: '12345 Stockholm'\n  }];\n  const initialFormState = {\n    id: null,\n    name: '',\n    street: ''\n  };\n  const [companies, setCompanies] = useState(companyData);\n  const [editing, setEditing] = useState(false);\n  const [currentCompany, setCurrentCompany] = useState(initialFormState);\n\n  const getCompanies = async () => {\n    const res = await axios.get(`https://company-address-book.firebaseio.com/address.json/`);\n    const forFriend = [];\n\n    for (let key in res.data) {\n      forFriend.push({ ...res.data[key],\n        id: key\n      });\n    }\n\n    setCompanies(...companies, res.data);\n  };\n\n  const addCompany = async company => {\n    try {\n      const res = await axios.post(`https://company-address-book.firebaseio.com/address.json/`, company); // company.id = uuidv4()\n\n      setCompanies(...companies, res.data); // setCompanies([...companies, company])\n    } catch (error) {\n      console.error('error');\n    }\n  };\n\n  const deleteCompany = id => {\n    setCompanies(companies.filter(company => company.id !== id));\n  };\n\n  const editCompany = company => {\n    setEditing(true);\n    setCurrentCompany({\n      id: company.id,\n      name: company.name,\n      street: company.street\n    });\n  };\n\n  const updateCompany = (id, updatedCompany) => {\n    setEditing(false);\n    setCompanies(companies.map(company => company.id === id ? updatedCompany : company));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Company address book\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-large\",\n        children: editing ? /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Edit company\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(EditCompanyForm, {\n            editing: editing,\n            setEditing: setEditing,\n            currentCompany: currentCompany,\n            updateCompany: updateCompany\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Add company\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(AddCompanyForm, {\n            addCompany: addCompany\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-large\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Company addresses\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Table, {\n          companies: companies,\n          deleteCompany: deleteCompany,\n          editCompany: editCompany,\n          getCompanies: getCompanies\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"48MtYPY/72xomZMiHb6O5P2Yq5E=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/isabellecaspersson/kod/react-address-book/src/App.js"],"names":["React","useState","Table","AddCompanyForm","EditCompanyForm","v4","uuidv4","axios","App","companyData","id","name","street","postaddress","initialFormState","companies","setCompanies","editing","setEditing","currentCompany","setCurrentCompany","getCompanies","res","get","forFriend","key","data","push","addCompany","company","post","error","console","deleteCompany","filter","editCompany","updateCompany","updatedCompany","map"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport Table from './components/Table'\nimport AddCompanyForm from './components/forms/AddCompanyForm'\nimport EditCompanyForm from './components/forms/EditCompanyForm'\nimport { v4 as uuidv4 } from 'uuid';\nimport axios from 'axios'\nconst App = () => {\n  const companyData = [\n    { id: 1, name: 'Tromb1', street: 'Parkv 15', postaddress: '12345 Stockholm'},\n    { id: 2, name: 'Tromb1', street: 'Parkv 15', postaddress: '12345 Stockholm'},\n    { id: 3, name: 'Tromb1', street: 'Parkv 15', postaddress: '12345 Stockholm'},\n  ]\n\n  const initialFormState = { id: null, name: '', street: '' }\n\n  const [companies, setCompanies] = useState(companyData)\n  const [editing, setEditing] = useState(false)\n  const [currentCompany, setCurrentCompany] = useState(initialFormState)\n\n  const getCompanies = async () => {\n    const res = await axios.get(`https://company-address-book.firebaseio.com/address.json/`)\n\n    const forFriend = [];\n        for (let key in res.data) {\n            forFriend.push( {\n                ...res.data[key],\n                id: key,\n            });\n        }\n    setCompanies(...companies, res.data)\n  }\n  \n  const addCompany = async (company) => {\n    try {\n      const res = await axios.post(`https://company-address-book.firebaseio.com/address.json/`, company )\n      // company.id = uuidv4()\n      setCompanies(...companies, res.data)\n      // setCompanies([...companies, company])\n    } catch (error) {\n      console.error('error');\n    }\n\n  }\n\n  const deleteCompany = (id) => {\n    setCompanies(companies.filter(company => company.id !== id))\n  }\n\n  const editCompany = (company) => {\n    setEditing(true)\n    setCurrentCompany({ id: company.id, name: company.name, street: company.street })\n  }\n\n  const updateCompany = (id, updatedCompany) => {\n    setEditing(false)\n    setCompanies(companies.map((company) => (company.id === id ? updatedCompany : company)))\n  }\n\n  return (\n    <div className=\"container\">\n      <h1>Company address book</h1>\n      <div className=\"flex-row\">\n        <div className=\"flex-large\">\n          {editing ? \n            <div>\n              <h2>Edit company</h2>\n              <EditCompanyForm\n                editing={editing}\n                setEditing={setEditing}\n                currentCompany={currentCompany}\n                updateCompany={updateCompany}\n              />\n            </div>\n          :\n            <div>\n              <h2>Add company</h2>\n              <AddCompanyForm addCompany={addCompany} />\n            </div>\n          }\n        </div>\n        <div className=\"flex-large\">\n          <h2>Company addresses</h2>\n          <Table companies={companies} deleteCompany={deleteCompany} editCompany={editCompany} getCompanies={getCompanies}/>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default App"]},"metadata":{},"sourceType":"module"}